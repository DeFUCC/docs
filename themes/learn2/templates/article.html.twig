{% extends 'partials/base.html.twig' %}
{% set tags = page.taxonomy.tag %}
{% set cat = page.taxonomy.category %}
{% if tags %}
    {% set progress = page.collection({'items':{'@taxonomy':{'category': cat, 'tag': tags}},'order': {'by': 'default', 'dir': 'asc'}}) %}
{% else %}
    {% set progress = page.collection({'items':{'@taxonomy':{'category': cat}},'order': {'by': 'default', 'dir': 'asc'}}) %}
{% endif %}

{% block navigation %}
	<div id="navigation">
	{% if not progress.isFirst(page.path) %}
	    <a class="nav nav-prev" href="{{ progress.nextSibling(page.path).url }}"> <i class="fa fa-chevron-left"></i></a>
	{% endif %}

	{% if not progress.isLast(page.path) %}
	    <a class="nav nav-next" href="{{ progress.prevSibling(page.path).url }}"><i class="fa fa-chevron-right"></i></a>
	{% endif %}
	</div>
{% endblock %}

{% block content %}

    <div class="page-toc">
        {% set table_of_contents = toc(page.content) %}
        {% if table_of_contents is not empty %}
        {{ table_of_contents }}
        {% endif %}
    </div>
 
    {% include 'partials/page.html.twig' %}
{% endblock %}
